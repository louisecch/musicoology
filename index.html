<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Musicoology</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>Musicoology: Zipf's Law + Entropy</h1>

      <div class="info-box">
        <b>What makes a song great?</b> I've been thinking it will be
        interesting to see if we can get something from data visualization.
        Turns out, songs often follow Zipf's Law and need a certain degree of
        entropy!
        <!-- <b>Theory:</b> Note frequencies often follow <b>Zipf's Law</b>: a few
        notes appear very frequently while most appear rarely.
        <b>Entropy</b> measures the unpredictability and complexity of note
        sequences. -->
      </div>

      <div class="zipf-intro">
        <h2 class="expandable-header" id="zipfFaqToggle">
          What is Zipf's Law?
          <span class="expand-icon">+</span>
        </h2>
        <div class="expandable-content" id="zipfFaqAnswer">
          <div class="zipf-explanation">
            <p>It is a pattern that shows up in many places.</p>
            <p>If you list things by how common they are (most common first):</p>
            <ul>
              <li>The 2nd item appears about half as often as the 1st</li>
              <li>The 3rd appears about one-third as often</li>
              <li>The 4th about one-fourth</li>
              <li>And so on...</li>
            </ul>
          </div>

          <!-- Educational Examples of Zipf's Law -->
          <div class="zipf-examples">
            <h3>Zipf's Law in Action</h3>

            <div class="chart-row">
              <div class="chart-item">
                <h4>1. Word Frequency in Language</h4>
                <canvas id="languageZipfChart"></canvas>
                <p class="hint chart-hint">
                  In English text, "the" appears twice as often as "of", three
                  times as often as "and", etc.
                </p>
              </div>

              <div class="chart-item">
                <h4>2. Musical Note Frequency (Classical Music)</h4>
                <canvas id="musicZipfChart"></canvas>
                <p class="hint chart-hint">
                  In classical compositions, certain notes dominate while others
                  appear rarely.
                </p>
              </div>
            </div>

            <div class="chart-full">
              <h4>3. Memory Retention (Ebbinghaus Forgetting Curve)</h4>
              <canvas id="forgettingCurveChart"></canvas>
              <p class="hint chart-hint">
                Memory decay follows a similar power law pattern - rapid initial
                decline, then slower decay.
              </p>
            </div>

            <div class="transition-text">
              <p>We as humans, love patterns, and get used to patterns. But as usual, we got bored when there's too much of the same thing.
          Let's talk about entropy then!
              </p> 
            </div>
          </div>
        </div>
      </div>

      <div class="entropy-intro">
        <h2 class="expandable-header" id="entropyFaqToggle">
          What is Entropy?
          <span class="expand-icon">+</span>
        </h2>
        <div class="expandable-content" id="entropyFaqAnswer">
          <p class="intro-text">Grimes did write a song called "Entropy", and it was a lowkey (or high key?) depressing song about the scientific idea of entropyâ€”everything in the universe naturally moving toward disorder, that applies to relationships can come to an end, etc. But here in music writing, we can find beauty in this creative decay though!</p>
          <p>So, entropy measures unpredictability and complexity in a sequence.</p>
          <p>In music, entropy tells us:</p>
          <ul>
            <li>How predictable or surprising the melody is</li>
            <li>How varied the note patterns are</li>
            <li>Whether a song feels repetitive or chaotic</li>
          </ul>
          <p>
            <strong>Low entropy:</strong> Very predictable, repetitive patterns (like a simple lullaby)<br>
            <strong>High entropy:</strong> Complex, unpredictable patterns (like jazz improvisation)<br>
            <strong>Balanced entropy:</strong> The sweet spot where music feels engaging but not overwhelming
          </p>

          <div class="entropy-examples">
            <h4>Examples of Entropy in Music:</h4>
            <p>
              <strong>"Take Five" by Paul Desmond</strong> - this jazz OG uses an unusual 5/4 rhythm that makes it feel a little off-kilter in a really cool way.
            </p>
            <p>
              <strong>"15 Step" by Radiohead</strong> - also uses an unusual 5/4 groove that keeps you slightly unbalanced in a good way.
            </p>
            <p>
              <strong>"Feel Good Inc." by Gorillaz</strong> - is in straight 4/4, but stays interesting through its sharp, syncopated snare hits that give the groove character and swing.
            </p>
          </div>
        </div>
      </div>

      <div class="card">
        <h3>Search Apple Music</h3>

        <div class="form-group">
          <div class="search-input-group">
            <input
              type="text"
              id="appleMusicSearch"
              placeholder="Search for a song..."
              class="search-input"
            />
            <button id="searchAppleMusic" class="primary">Search</button>
          </div>
          <div class="hint">
            Search Apple Music catalog and play 30-second song previews.
          </div>
        </div>

        <div id="appleMusicResults"></div>

        <div class="form-group">
          <div id="nowPlaying" class="now-playing"></div>
        </div>
      </div>

      <!-- Zipf's Law Analysis -->
      <div class="card">
        <h3>Zipf's Law Analysis (Note Frequency Distribution)</h3>
        <canvas id="zipfChart"></canvas>
        <div class="small" id="zipfStats"></div>
      </div>

      <!-- Entropy Analysis -->
      <div class="card">
        <h3>Entropy Analysis (Melodic Complexity)</h3>
        <canvas id="entropyChart"></canvas>
        <div class="small" id="entropyStats"></div>
    </div>

    <script src="config.js"></script>
    <script src="app.js"></script>
  </body>
</html>
